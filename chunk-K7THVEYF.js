import{a as A}from"./chunk-WVPMB7D3.js";import{a as O,b as _,c as w,d as q,e as I,f as v,h as N,i as T,j as F,m as R}from"./chunk-AAXMUW5Q.js";import"./chunk-CNHRRE5V.js";import{Ea as b,Fa as h,I as C,K as S,Na as d,Ua as x,ca as l,na as m,pa as y,ta as u,xa as n,ya as i,yb as E,za as g}from"./chunk-QGTKXM7V.js";function D(e,o){e&1&&(n(0,"p",11),d(1,"details Is Required"),i())}function G(e,o){if(e&1&&(n(0,"div",5),m(1,D,2,0,"p",11),i()),e&2){let a,t=h();l(),u(1,(a=t.orders.get("details"))!=null&&a.getError("required")?1:-1)}}function M(e,o){e&1&&(n(0,"p",11),d(1,"phone Is Required"),i())}function V(e,o){if(e&1&&(n(0,"div",5),m(1,M,2,0,"p",11),i()),e&2){let a,t=h();l(),u(1,(a=t.orders.get("phone"))!=null&&a.getError("required")?1:-1)}}function k(e,o){e&1&&(n(0,"p",11),d(1,"city Is Required"),i())}function j(e,o){if(e&1&&(n(0,"div",5),m(1,k,2,0,"p",11),i()),e&2){let a,t=h();l(),u(1,(a=t.orders.get("city"))!=null&&a.getError("required")?1:-1)}}var P=(()=>{let o=class o{constructor(){this._ActivatedRoute=C(E),this._OrderService=C(A),this.isLoading=!1,this.orders=new I({details:new v(null,[_.required]),phone:new v(null,[_.required,_.pattern(/^01[0125][0-9]{8}$/)]),city:new v(null,[_.required])}),this.cartId=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.cartId=t.get("id"),console.log(this.cartId)}})}orderSubmit(){console.log(this.orders.value),this._OrderService.checkOut(this.cartId,this.orders.value).subscribe({next:t=>{console.log(t),t.status==="success"&&(t.session.url,window.open(t.session.url,"_self"))},error:t=>{console.log(t)}})}};o.\u0275fac=function(f){return new(f||o)},o.\u0275cmp=S({type:o,selectors:[["app-orders"]],standalone:!0,features:[x],decls:21,vars:5,consts:[[1,"bg-main-light","rounded-4","my-2","w-75","mx-auto","shadow","p-2"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","details"],["formControlName","details","name","","id","details",1,"form-control"],[1,"alert","alert-danger","w-50"],["for","phone"],["name","","formControlName","phone","id","phone","type","tel",1,"form-control"],["for","city"],["name","","formControlName","city","id","city","type","text",1,"form-control"],["type","submit",1,"btn-main",3,"disabled"],[1,"m-0"]],template:function(f,r){if(f&1&&(n(0,"section",0)(1,"h1"),d(2,"shipping Address:"),i(),n(3,"form",1),b("ngSubmit",function(){return r.orderSubmit()}),n(4,"div",2)(5,"label",3),d(6,"Details"),i(),g(7,"textarea",4),m(8,G,2,1,"div",5),i(),n(9,"div",2)(10,"label",6),d(11,"phone"),i(),g(12,"input",7),m(13,V,2,1,"div",5),i(),n(14,"div",2)(15,"label",8),d(16,"city"),i(),g(17,"input",9),m(18,j,2,1,"div",5),i(),n(19,"button",10),d(20,"Check Out "),i()()()),f&2){let s,p,c;l(3),y("formGroup",r.orders),l(5),u(8,(s=r.orders.get("details"))!=null&&s.errors&&((s=r.orders.get("details"))!=null&&s.touched||(s=r.orders.get("details"))!=null&&s.dirty)?8:-1),l(5),u(13,(p=r.orders.get("phone"))!=null&&p.errors&&((p=r.orders.get("phone"))!=null&&p.touched||(p=r.orders.get("phone"))!=null&&p.dirty)?13:-1),l(5),u(18,(c=r.orders.get("city"))!=null&&c.errors&&((c=r.orders.get("city"))!=null&&c.touched||(c=r.orders.get("city"))!=null&&c.dirty)?18:-1),l(),y("disabled",r.orders.invalid)}},dependencies:[R,N,O,w,q,T,F]});let e=o;return e})();export{P as OrdersComponent};
