import{b as G}from"./chunk-DV4NPZ36.js";import{a as z}from"./chunk-CW5AHXJI.js";import{a as O}from"./chunk-3GIIK6YY.js";import{l as R}from"./chunk-IQZ7LQEQ.js";import{a as L,c as V,g as j,l as N}from"./chunk-AAXMUW5Q.js";import{a as W}from"./chunk-3CY3LVCV.js";import"./chunk-CNHRRE5V.js";import{Bb as D,Ca as b,Ea as w,Fa as T,I as d,K as x,Na as l,Oa as m,Pa as E,Qa as F,R as S,Ra as M,S as C,Sa as k,Ua as A,Va as I,Wa as B,_a as v,aa as P,ab as h,ca as o,pa as u,ua as y,va as f,wa as g,xa as e,ya as a,za as _}from"./chunk-QGTKXM7V.js";var U=(t,i)=>i._id,$=t=>["/details",t],q=()=>[1,2,3,4,5];function H(t,i){t&1&&(e(0,"span"),_(1,"i",13),a())}function J(t,i){if(t&1){let n=b();e(0,"div",3)(1,"div",4)(2,"div",5),_(3,"img",6),e(4,"h6",7),l(5),a(),e(6,"h5",8),l(7),v(8,"termText"),a(),e(9,"div",9)(10,"span"),l(11),a(),e(12,"div",10),f(13,H,2,0,"span",null,y),e(15,"span",11),l(16),a()()()(),e(17,"button",12),w("click",function(){let r=S(n).$implicit,s=T();return C(s.addCart(r._id))}),l(18," Add To Cart"),a()()()}if(t&2){let n=i.$implicit;o(2),u("routerLink",B(10,$,n._id)),o(),u("src",n.imageCover,P)("alt",n.title),o(2),m(n.category.name),o(2),m(h(8,7,n.title,2)),o(4),E("",n.price," EGP"),o(2),g(I(12,q).slice(0,n.ratingsAverage)),o(3),m(n.ratingsAverage)}}var le=(()=>{let i=class i{constructor(){this._ProductsService=d(O),this._CartService=d(W),this._ToastrService=d(R),this.allProducts=[],this.text=" ",this.getProducts=()=>{this.getAllProductsub=this._ProductsService.getProduct().subscribe({next:c=>{this.allProducts=c.data},error:c=>{console.log(c)}})}}addCart(c){this._CartService.addProdToCart(c).subscribe({next:r=>{console.log(r),this._ToastrService.success(r.message,"FreshCart")},error:r=>{console.log(r)}})}ngOnInit(){this.getProducts()}ngOnDestroy(){this.getAllProductsub?.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=x({type:i,selectors:[["app-products"]],standalone:!0,features:[A],decls:8,vars:4,consts:[[1,"container-fluid","my-5"],["type","search","name","","id","","placeholder","Search By Name...",1,"form-control","mx-auto","w-50","my-2",3,"ngModelChange","ngModel"],[1,"row","gy-3"],[1,"col-md-2"],[1,"product","p-2"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"text-main","small"],[1,"fw-bold"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-between"],[1,"text-muted"],[1,"btn","bg-main","text-white","w-100","my-2",3,"click"],[1,"fa-solid","fa-star","rating-color"]],template:function(r,s){r&1&&(e(0,"div",0)(1,"h2"),l(2,"All Products:"),a(),e(3,"input",1),k("ngModelChange",function(p){return M(s.text,p)||(s.text=p),p}),a(),e(4,"div",2),f(5,J,19,13,"div",3,U),v(7,"search"),a()()),r&2&&(o(3),F("ngModel",s.text),o(2),g(h(7,1,s.allProducts,s.text)))},dependencies:[D,z,G,N,L,V,j]});let t=i;return t})();export{le as ProductsComponent};
