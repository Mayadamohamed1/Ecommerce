import{a as P}from"./chunk-BJJ6NNSZ.js";import{b as F}from"./chunk-E6HCZFJW.js";import{l as $}from"./chunk-IQZ7LQEQ.js";import{a as V}from"./chunk-3CY3LVCV.js";import"./chunk-CNHRRE5V.js";import{Bb as I,Ca as k,Ea as p,Fa as f,I as m,K as S,Na as l,Oa as C,Pa as x,R as u,S as _,Ua as T,Wa as w,_a as y,aa as h,ab as E,ca as s,nb as D,pa as v,va as b,wa as g,xa as r,ya as n,za as d}from"./chunk-QGTKXM7V.js";var M=(o,a)=>a.product._id,j=o=>["/orders",o];function L(o,a){if(o&1){let c=k();r(0,"div",5)(1,"div",7)(2,"div"),d(3,"img",8),n()(),r(4,"div",9)(5,"div")(6,"h3",10),l(7),n(),r(8,"p",11),l(9),n(),r(10,"button",12),p("click",function(){let e=u(c).$implicit,i=f();return _(i.removeItem(e.product._id))}),d(11,"i",13),n()(),r(12,"div",14)(13,"span",15),p("click",function(){let e=u(c).$implicit,i=f();return _(i.updataCount(e.product._id,e.count+1))}),d(14,"i",16),n(),r(15,"span"),l(16),n(),r(17,"span",15),p("click",function(){let e=u(c).$implicit,i=f();return _(i.updataCount(e.product._id,e.count-1))}),d(18,"i",17),n()()()()}if(o&2){let c=a.$implicit;s(3),v("src",c.product.imageCover,h)("alt",c.product.title),s(4),C(c.product.title),s(2),C(c.price),s(7),x(" ",c.count," ")}}var H=(()=>{let a=class a{constructor(){this._CartService=m(V),this._ToastrService=m($),this._MytranslateService=m(P),this._TranslateService=m(F),this.cartDetalis={}}ngOnInit(){this._CartService.getProdCart().subscribe({next:t=>{console.log(t.data),this.cartDetalis=t.data},error:t=>{console.log(t)}})}removeItem(t){this._CartService.deleteSpecifProdCart(t).subscribe({next:e=>{console.log(e),this.cartDetalis=e.data,this._CartService.cartNumber.next(e.numOfCartItems),this._ToastrService.success(e.status)},error:e=>{console.log(e)}})}updataCount(t,e){this._CartService.updataProductQuantity(t,e).subscribe({next:i=>{console.log(i),this.cartDetalis=i.data,this._ToastrService.success(i.status)},error:i=>{console.log(i)}})}clearItem(){this._CartService.clearCart().subscribe({next:t=>{console.log(t),t.message=="success"&&(this.cartDetalis={},this._CartService.cartNumber.next(0),this._ToastrService.success(t.message))},error:t=>{console.log(t)}})}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=S({type:a,selectors:[["app-cart"]],standalone:!0,features:[T],decls:13,vars:7,consts:[[1,"bg-main-light","rounded-4","p-4","my-2","shadow","w-75","mx-auto"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h2"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"text-main"],[1,"row","mb-1","border-bottom"],[1,"btn-main","mt-2",3,"routerLink"],[1,"col-md-1"],[1,"w-100",3,"src","alt"],[1,"col-md-11","d-flex","justify-content-between","align-items-center"],[1,"h4"],[1,"text-main","m-0"],[1,"text-danger","btn","p-0","border-0",3,"click"],[1,"fa-solid","fa-trash"],[1,"d-flex","gap-2","align-items-center"],[1,"text-main","cursor-pointer",3,"click"],[1,"fa-solid","fa-circle-plus","fa-2x"],[1,"fa-solid","fa-circle-minus","fa-2x"]],template:function(e,i){e&1&&(r(0,"section",0)(1,"div",1)(2,"h1",2),l(3,"Shop Cart"),n(),r(4,"button",3),p("click",function(){return i.clearItem()}),l(5,"Clear Cart"),n()(),r(6,"p",4),l(7),y(8,"currency"),n(),b(9,L,19,5,"div",5,M),r(11,"button",6),l(12,"Orders"),n()()),e&2&&(s(7),x("Total Cart Price: ",E(8,2,i.cartDetalis.totalCartPrice,"GBP"),""),s(2),g(i.cartDetalis.products),s(2),v("routerLink",w(5,j,i.cartDetalis._id)))},dependencies:[D,I]});let o=a;return o})();export{H as CartComponent};
