import{a as Y,b as Z,c as ee}from"./chunk-5ZJXRBXF.js";import{a as X}from"./chunk-UCTQIXEJ.js";import{a as oe}from"./chunk-2CZJQL62.js";import{a as K}from"./chunk-ZLV4HNE7.js";import{a as q}from"./chunk-BJJ6NNSZ.js";import{b as U,c as G,d as R}from"./chunk-E6HCZFJW.js";import{a as te,b as re}from"./chunk-DV4NPZ36.js";import{a as ie}from"./chunk-CW5AHXJI.js";import{a as Q}from"./chunk-3GIIK6YY.js";import{l as ne}from"./chunk-IQZ7LQEQ.js";import{a as V,c as j,g as z,l as $}from"./chunk-AAXMUW5Q.js";import{a as J}from"./chunk-3CY3LVCV.js";import"./chunk-CNHRRE5V.js";import{$ as W,$a as f,Bb as O,Ca as E,Ea as y,Fa as h,I as c,K as H,Na as d,Oa as u,Pa as M,Qa as L,R as S,Ra as k,S as C,Sa as I,Ua as D,Va as N,Wa as b,Xa as B,_a as g,aa as w,ab as P,ca as o,ib as A,na as T,pa as p,ua as F,va as _,wa as v,xa as a,ya as s,za as m}from"./chunk-QGTKXM7V.js";var ae=(e,r)=>r._id,se=e=>["/detailsCategories",e],le=e=>["/details",e],me=()=>[1,2,3,4,5],ce=(e,r)=>({"text-danger":e,"text-dark":r});function pe(e,r){e&1&&m(0,"img",11)}function de(e,r){e&1&&m(0,"img",12)}function ue(e,r){e&1&&m(0,"img",13)}function ge(e,r){e&1&&m(0,"img",14)}function he(e,r){e&1&&m(0,"img",15)}function _e(e,r){e&1&&m(0,"img",16)}function ve(e,r){if(e&1&&(a(0,"div",17),m(1,"img",18),a(2,"h3",19),d(3),s()()),e&2){let n=h().$implicit;p("routerLink",b(4,se,n._id)),o(),p("src",n.image,w)("alt",n.name),o(2),u(n.name)}}function fe(e,r){e&1&&T(0,ve,4,6,"ng-template",3)}function xe(e,r){e&1&&(a(0,"span"),m(1,"i",30),s())}function Se(e,r){if(e&1){let n=E();a(0,"div",4)(1,"div",20)(2,"div",17),m(3,"img",21)(4,"h6",22),g(5,"sale"),a(6,"h5",23),d(7),g(8,"termText"),s(),a(9,"div",24)(10,"span"),d(11),s(),a(12,"div",25),_(13,xe,2,0,"span",null,F),a(15,"span",26),d(16),s()()()(),a(17,"div",24)(18,"button",27),y("click",function(){let i=S(n).$implicit,l=h();return C(l.addWish(i._id))}),m(19,"i",28),s(),a(20,"button",29),y("click",function(){let i=S(n).$implicit,l=h();return C(l.addCart(i._id))}),d(21," Add To Cart"),s()()()()}if(e&2){let n=r.$implicit,t=h();o(2),p("routerLink",b(13,le,n._id)),o(),p("src",n.imageCover,w)("alt",n.title),o(),p("innerHTML",f(5,8,n.category.name),W),o(3),u(P(8,10,n.title,2)),o(4),M("",n.price," EGP"),o(2),v(N(15,me).slice(0,n.ratingsAverage)),o(3),u(n.ratingsAverage),o(3),p("ngClass",B(16,ce,t.isInWishList(n._id),!t.isInWishList(n._id)))}}var $e=(()=>{let r=class r{constructor(){this._ProductsService=c(Q),this._CategoriesService=c(X),this._CartService=c(J),this._WishlistService=c(K),this._ToastrService=c(ne),this._NgxSpinnerService=c(oe),this._MytranslateService=c(q),this._TranslateService=c(U),this.allProducts=[],this.allCategorise=[],this.isFavotite=!1,this.wishList=new Set,this.text=" ",this.customOptionsCate={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,rtl:!0,autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,dots:!1,navSpeed:700,navText:["prev","next"],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!1},this.customOptionsMain={loop:!0,mouseDrag:!0,touchDrag:!0,rtl:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,dots:!1,navSpeed:700,navText:["prev","next"],items:1,nav:!0},this.getProducts=()=>{this._NgxSpinnerService.show("loading-4"),this.getAllProductsub=this._ProductsService.getProduct().subscribe({next:t=>{this.allProducts=t.data,this._NgxSpinnerService.hide("loading-4")},error:t=>{console.log(t)}})}}getcategorise(){this._CategoriesService.getAllCategoies().subscribe({next:t=>{console.log(t.data),this.allCategorise=t.data},error:t=>{console.log(t)}})}addCart(t){this._CartService.addProdToCart(t).subscribe({next:i=>{console.log(i),this._ToastrService.success(i.message,"FreshCart"),this._CartService.cartNumber.next(i.numOfCartItems),this._WishlistService.updateWishCount(i.count),console.log(this._CartService.cartNumber)},error:i=>{console.log(i)}})}addWish(t){this._WishlistService.addProdToWishList(t).subscribe({next:i=>{console.log(i),this.wishList.add(t),this._ToastrService.success(i.message,"FreshCart"),this._WishlistService.updateWishCount(i.count)},error:i=>{console.log(i),this._ToastrService.error("Failed to add product to wishlist","Error")}})}isInWishList(t){return this.wishList.has(t)}ngOnInit(){this._WishlistService.getProdWishList().subscribe({next:t=>{this.wishList=new Set(t.data.map(i=>i._id)),this._WishlistService.updateWishCount(t.count)},error:t=>console.log("Error fetching wishlist:",t)}),this.getProducts(),this.getcategorise()}ngOnDestroy(){this.getAllProductsub?.unsubscribe()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=H({type:r,selectors:[["app-home"]],standalone:!0,features:[D],decls:31,vars:12,consts:[[1,"row","g-0"],[1,"col-md-10"],[3,"options"],["carouselSlide",""],[1,"col-md-2"],["src","assets/images/slider-2.jpeg","height","175px","alt","",1,"w-100"],["src","assets/images/slider-image-1.jpeg","height","175px","alt","",1,"w-100"],[1,"my-2"],[1,"container-fluid","my-5"],["type","search","name","","id","","placeholder","Search By Name...",1,"form-control","mx-auto","w-50","my-2",3,"ngModelChange","ngModel"],[1,"row","gy-3"],["src","assets/images/img6.avif","height","350px","alt","",1,"w-100"],["src","assets/images/img5.avif","height","350px","alt","",1,"w-100"],["src","assets/images/img4.avif","height","350px","alt","",1,"w-100"],["src","assets/images/img3.avif","height","350px","alt","",1,"w-100"],["src","assets/images/img2.avif","height","350px","alt","",1,"w-100"],["src","assets/images/img1.avif","height","350px","alt","",1,"w-100"],[3,"routerLink"],["height","300px",1,"w-100",3,"src","alt"],[1,"h6","text-main"],[1,"product","p-2"],[1,"w-100",3,"src","alt"],[1,"text-main","text-center",3,"innerHTML"],[1,"fw-bold"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-between"],[1,"text-muted"],[1,"btn",3,"click"],[1,"fa-regular","fa-heart","fa-2xl","hear",3,"ngClass"],[1,"btn","bg-main","text-white","my-2",3,"click"],[1,"fa-solid","fa-star","rating-color"]],template:function(i,l){i&1&&(a(0,"section")(1,"div",0)(2,"div",1)(3,"div")(4,"owl-carousel-o",2),T(5,pe,1,0,"ng-template",3)(6,de,1,0,"ng-template",3)(7,ue,1,0,"ng-template",3)(8,ge,1,0,"ng-template",3)(9,he,1,0,"ng-template",3)(10,_e,1,0,"ng-template",3),s()()(),a(11,"div",4)(12,"div"),m(13,"img",5)(14,"img",6),s()()()(),a(15,"section",7)(16,"h2"),d(17),g(18,"translate"),s(),a(19,"owl-carousel-o",2),_(20,fe,1,0,null,3,ae),s()(),a(22,"div",8)(23,"h2"),d(24),g(25,"translate"),s(),a(26,"input",9),I("ngModelChange",function(x){return k(l.text,x)||(l.text=x),x}),s(),a(27,"div",10),_(28,Se,22,19,"div",4,ae),g(30,"search"),s()()),i&2&&(o(4),p("options",l.customOptionsMain),o(13),u(f(18,5,"Home.Popular Categories")),o(2),p("options",l.customOptionsCate),o(),v(l.allCategorise),o(4),u(f(25,7,"Home.Popular Products")),o(2),L("ngModel",l.text),o(2),v(P(30,9,l.allProducts.slice(0,12),l.text)))},dependencies:[ee,Z,Y,O,te,ie,re,$,V,j,z,A,R,G]});let e=r;return e})();export{$e as HomeComponent};
