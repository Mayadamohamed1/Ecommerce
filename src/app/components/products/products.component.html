<div class="container-fluid my-5">
  <h2>All Products:</h2>
  <input [(ngModel)]="text" type="search" name="" id="" placeholder="Search By Name..." class="form-control mx-auto w-50 my-2">
  <div class="row gy-3">
    @for (product of allProducts | search : text ; track product._id) {
      <div class="col-md-2">
        <div class="product p-2">
         <div [routerLink]="['/details',product._id]">
          <img [src]="product.imageCover" class="w-100" [alt]="product.title">
          <h6 class="text-main small">{{product.category.name}}</h6>
          <h5 class="fw-bold">{{product.title|termText:2}}</h5>
          <div class="d-flex justify-content-between align-items-center">
            <span>{{product.price}} EGP</span>

<div class="d-flex justify-content-between">
  @for (num of [1,2,3,4,5].slice(0, product.ratingsAverage); track $index) {
    <span> <i class="fa-solid fa-star rating-color"></i></span>
  }
  <span class="text-muted">{{product.ratingsAverage}}</span>
</div>

          </div>
         </div>
          <button class="btn bg-main text-white w-100 my-2" (click)="addCart(product._id)"> Add To Cart</button>
        </div>
      </div>
    }
  </div>
</div>
